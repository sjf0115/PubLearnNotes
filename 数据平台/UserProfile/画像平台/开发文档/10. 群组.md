

```sql
DROP Table `profile_meta_group`;
CREATE TABLE IF NOT EXISTS `profile_meta_group`(
    `id` BIGINT UNSIGNED AUTO_INCREMENT COMMENT '自增ID',
    `group_id` VARCHAR(40) NOT NULL COMMENT '群组ID',
    `group_status` INT NOT NULL COMMENT '群组状态: 1-启用,2-停用',
    `group_name` VARCHAR(100) NOT NULL COMMENT '群组名称',
    `group_type` INT NOT NULL COMMENT '群组类型: 1-标签筛选,2-群组交并,3-行为圈选,4-行为序列圈选,5-组合人群,6-文件上传',
    `group_desc` VARCHAR(200) COMMENT '群组描述',
    `group_rule` VARCHAR(500) NOT NULL COMMENT '群组规则',
    `group_count` INT NOT NULL COMMENT '群组覆盖规模',
    `entity_id` VARCHAR(50) NOT NULL COMMENT '群组主体ID',
    `source_type` INT NOT NULL DEFAULT 1 COMMENT '创建方式: 1-系统内置,2-自定义',
    `instance_id` INT COMMENT '最新执行任务实例ID',
    `instance_status` INT COMMENT '最新执行状态: 1-未运行,2-运行中,3-运行成功,4-运行失败',
    `instance_start_time` DATETIME COMMENT '最新执行开始时间',
    `instance_end_time` DATETIME COMMENT '最新执行结束时间',
    `instance_msg` VARCHAR(500) COMMENT '最新执行信息，只有运行失败时才有',
    `owner` VARCHAR(100) NOT NULL COMMENT '群组负责人',
    `creator` VARCHAR(100) NOT NULL COMMENT '创建者',
    `modifier` VARCHAR(100) NOT NULL COMMENT '修改者',
    `gmt_create` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `gmt_modified` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
    PRIMARY KEY (`id`),
    UNIQUE (`group_id`)
)ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT '画像-群组';
```


## 1. 创建群组

### 1.1 文件上传

![](img-user-profile-create-group-file-1.png)

通过上传 id 列表文件的方式创建用户分群，当项目有多个用户口径id时，您可以自选其中1个id上传，请注意保持上传的文档id类型与页面选择的一致。

![](img-user-profile-create-group-file-2.png)


先将文件上传保存到OSS，文件上传成功之后提示：文件上传成功，请先保存分群，在分群列表中查看计算结果。

第一次保存时会将文件中的用户保存到群组对应的表中。

状态：计算中

文件上传创建群组的 group_rule：
- uuid_file_key：远程存储的地址
- file_name：原始上传文件名称

```json
{
    "uuid_file_key": "upload_uuid/2428400/20251130/fd5cd375-c5d6-4268-af8b-cf628107f201.csv",
    "file_list": [
        {
            "name": "user_unique_id_template.csv"
        }
    ]
}
```
